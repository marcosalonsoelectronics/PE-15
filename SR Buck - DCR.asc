Version 4
SHEET 1 2004 724
WIRE 1808 -64 1696 -64
WIRE 1904 -64 1808 -64
WIRE 1696 -16 1696 -64
WIRE 144 16 112 16
WIRE 272 16 144 16
WIRE 544 16 368 16
WIRE 592 16 544 16
WIRE 752 16 592 16
WIRE 912 16 752 16
WIRE 1168 16 992 16
WIRE 1280 16 1168 16
WIRE 1408 16 1280 16
WIRE 1424 16 1408 16
WIRE 1424 96 1424 16
WIRE 592 112 592 16
WIRE 752 112 752 16
WIRE 800 112 752 112
WIRE 944 112 880 112
WIRE 992 112 944 112
WIRE 1088 112 1056 112
WIRE 1168 112 1168 16
WIRE 1168 112 1088 112
WIRE 1280 112 1280 16
WIRE 112 128 112 16
WIRE 304 128 256 128
WIRE 352 128 352 64
WIRE 352 128 304 128
WIRE 1696 144 1696 64
WIRE 480 192 432 192
WIRE 544 192 480 192
WIRE 896 192 864 192
WIRE 944 192 944 112
WIRE 944 192 896 192
WIRE 1280 208 1280 176
WIRE 1808 208 1696 208
WIRE 1904 208 1808 208
WIRE 1088 256 1088 112
WIRE 1088 256 864 256
WIRE 1696 256 1696 208
WIRE 112 336 112 208
WIRE 592 336 592 208
WIRE 592 336 112 336
WIRE 1280 336 1280 288
WIRE 1280 336 592 336
WIRE 1424 336 1424 176
WIRE 1424 336 1280 336
WIRE 112 384 112 336
WIRE 1696 416 1696 336
WIRE 880 496 752 496
WIRE 1040 496 960 496
WIRE 1072 496 1040 496
WIRE 576 512 112 512
WIRE 1040 528 752 528
WIRE 1072 528 1040 528
WIRE 576 544 544 544
WIRE 112 560 112 512
WIRE 880 560 752 560
WIRE 1040 560 960 560
WIRE 1072 560 1040 560
WIRE 544 592 544 544
WIRE 576 592 544 592
WIRE 816 592 752 592
WIRE 816 640 816 592
WIRE 112 704 112 640
WIRE 544 704 544 592
FLAG 112 384 0
FLAG 304 128 gate1
FLAG 544 16 source
FLAG 144 16 in
FLAG 1408 16 out
FLAG 480 192 gate2
FLAG 112 704 0
FLAG 544 704 0
FLAG 816 640 0
FLAG 1040 496 gate1
FLAG 1040 528 source
FLAG 1040 560 gate2
FLAG 896 192 +s
FLAG 1696 144 0
FLAG 1808 -64 ind_current
FLAG 1696 416 0
FLAG 1808 208 sensing
SYMBOL nmos 272 64 R270
WINDOW 0 71 26 VRight 2
WINDOW 3 31 -96 VRight 2
SYMATTR InstName M1
SYMATTR Value IRFZ48Z
SYMBOL voltage 112 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vi
SYMATTR Value 12
SYMBOL ind 896 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMATTR SpiceLine Rser={r_L}
SYMBOL cap 1264 112 R0
SYMATTR InstName C1
SYMATTR Value 75µ
SYMBOL res 1408 80 R0
SYMATTR InstName RL
SYMATTR Value 0.25
SYMBOL voltage 112 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vgate
SYMATTR Value PULSE(0 5 0 10n 10n {D/f} {1/f})
SYMBOL res 1296 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Resr
SYMATTR Value 10m
SYMBOL nmos 544 112 R0
WINDOW 0 89 44 Right 2
WINDOW 3 160 77 Right 2
SYMATTR InstName M2
SYMATTR Value IRFZ48Z
SYMBOL MyDriverHB 688 544 R0
WINDOW 3 -66 104 Bottom 2
WINDOW 123 -51 134 Bottom 2
WINDOW 0 -91 -106 Bottom 2
WINDOW 38 -37 -76 Bottom 2
SYMATTR Value2 Tau=120n
SYMATTR InstName U1
SYMBOL res 976 480 R90
WINDOW 0 7 119 VBottom 2
WINDOW 3 -15 7 VTop 2
SYMATTR InstName Rg1
SYMATTR Value 5
SYMBOL res 976 544 R90
WINDOW 0 51 112 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rg2
SYMATTR Value 5
SYMBOL res 784 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap 1056 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL Misc\\Epoly 1696 -32 R0
SYMATTR InstName E1
SYMATTR Value value={I(L1)}
SYMBOL Misc\\Epoly 1696 240 R0
SYMATTR InstName E2
SYMATTR Value value={V(+s, out)/r_L}
TEXT 392 -152 Left 2 !.param f=100k\n.param D=0.46
TEXT 728 -152 Left 2 !.tran 5m uic
TEXT 728 -104 Left 2 !.param L 12u\n.param r_L 10m
TEXT 1072 -104 Left 2 ;L nominal: 10 uH
TEXT 24 -128 Left 2 !.options reltol 10m
